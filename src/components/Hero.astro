---
import { getCollection } from "astro:content";

const allPosts = await getCollection("posts");
const latestPost = allPosts.sort(
    (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
)[0];
---

<section
    class="relative pt-20 pb-24 overflow-hidden border-b border-slate-100 dark:border-[#224249]/30"
>
    <div
        class="absolute inset-0 z-0 opacity-[0.08] dark:opacity-[0.2] hero-pattern"
    >
    </div>
    <div
        class="absolute top-1/4 right-0 w-96 h-96 bg-primary/20 rounded-full blur-[100px] -z-10 animate-pulse-slow"
    >
    </div>
    <div
        class="absolute bottom-0 left-10 w-64 h-64 bg-cyan-700/10 rounded-full blur-[80px] -z-10"
    >
    </div>

    <div
        class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center"
    >
        <h1
            class="text-4xl md:text-6xl font-bold tracking-tight text-slate-900 dark:text-white mb-6"
        >
            <span
                class="text-transparent bg-clip-text bg-gradient-to-r from-primary to-cyan-200"
            >
                {latestPost?.data.title}
            </span>
        </h1>

        <p
            class="mt-4 max-w-2xl mx-auto text-xl text-slate-600 dark:text-slate-400"
        >
            {latestPost?.data.description}
        </p>

        <div class="mt-10 flex justify-center gap-4">
            <a
                class="px-8 py-3 rounded-lg bg-primary hover:bg-cyan-400 text-white dark:text-background-dark font-semibold transition-all shadow-[0_0_20px_rgba(13,204,242,0.3)] hover:shadow-[0_0_30px_rgba(13,204,242,0.5)]"
                href={latestPost ? `/posts/${latestPost.slug}` : "/archive"}
            >
                Start Reading
            </a>
            <a
                class="px-8 py-3 rounded-lg border border-slate-300 dark:border-slate-700 hover:border-primary dark:hover:border-primary text-slate-700 dark:text-slate-300 hover:text-primary dark:hover:text-primary font-medium transition-all backdrop-blur-sm"
                href="/archive"
            >
                Browse Topics
            </a>
        </div>
    </div>
</section>
